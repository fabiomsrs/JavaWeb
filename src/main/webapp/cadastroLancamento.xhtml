<!DOCTYPE html>
<ui:composition template="/WEB-INF/template/Layout.xhtml"
xmlns="http://www.w3.org/1999/xhtml" 
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:p="http://primefaces.org/ui">

<f:metadata>
	<f:viewAction action="#{cadastroLancamento.prepararCadastro}"></f:viewAction>
</f:metadata>
<ui:define name="titulo">Cadastro</ui:define>

<ui:define name = "corpo">
	<h1>Cadastro Lancamento</h1>
	<h:form if = "frm">
		<p:outputLabel value = "Tipo" for = "tipo"></p:outputLabel>				
		<p:selectOneButton id = "tipo" value = "#{cadastroLancamento.lancamento.tipo}" title="tipo" >		
			<f:selectItems value = "#{cadastroLancamento.tiposLancamentos}"
			var = "tipoLancamento"
			itemValue="#{tipoLancamento}"
			itemLabel="#{tipoLancamento.descricao}"/>
		</p:selectOneButton>
		<br/>
				
		<p:outputLabel value = "Pessoa" for="Pessoa"/>		
		<p:selectOneMenu value="#{cadastroLancamento.lancamento.pessoa}" id = "Pessoa">
			<f:selectItem itemLabel="Selecione" noSelectionOption="true"/>
			<f:selectItems value="#{cadastroLancamento.todasPessoas}" var="pessoa" itemValue="#{pessoa}" itemLabel="#{pessoa.nome}"/>
		</p:selectOneMenu>
		<br/>
		
		<p:outputLabel value="Descrição" for="Descricao"/>
			<h:inputText id="Descricao" size="60" value="#{cadastroLancamento.lancamento.descricao}" />
		<br/>
		
		<p:outputLabel value="Valor" for="Valor"/>		
		<p:inputText id="Valor" size="12" value="#{cadastroLancamento.lancamento.valor}">
			<f:convertNumber locale="pt_BR" maxFractionDigits="2" minFractionDigits="2"/>
		</p:inputText>
		<br/>
		
		<p:outputLabel value="Data de vencimento" for="dataDeVencimento"/>		
		<p:inputText id="dataDeVencimento" size="12" value="#{cadastroLancamento.lancamento.dataVencimento}">
			<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>
		</p:inputText>
		
		<br/>
		<p:outputLabel value="Data de Pagamento" for="dataDePagamento"/>
		<p:inputText id="dataDePagamento" size="12" value = "#{cadastroLancamento.lancamento.dataPagamento}" >
			<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>
		</p:inputText>		
		
		<h:commandButton value="Salvar" action="#{cadastroLancamento.salvar}"/>
</h:form>
	
</ui:define>
</ui:composition>